<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="greencamp.bbs">
	
	<!-- 공지 리스트 출력 -->
	<select id="listBbs" resultType="greencamp.bbs.model.BbsDTO" parameterType="greencamp.bbs.model.BbsDTO">
		select * from tb_bbs where ctgry=#{ctgry} prder by bbs_no desc
	</select>
	<!-- 공지 타입 상세정보 -->
	<select id="bbsTypeIndex" parameterType="greencamp.bbs.model.BbsDTO" resultType="greencamp.bbs.model.BbsDTO">
		select * from tb_bbs where delng_no=(select max(delng_no) from tb_delng where delngtp=#{delngtp})
	</select>
	<!-- 공지 클릭 상세정보 -->
	<select id="bbsAjax" parameterType="greencamp.bbs.model.BbsDTO" resultType="greencamp.bbs.model.BbsDTO">
		select * from tb_bbs where delng_no=#{delng_no}
	</select>
	
	<!-- 캠핑톡 글쓰기 -->
	 <insert id="registBbs" parameterType="greencamp.bbs.model.BbsDTO">
		insert into tb_bbs values(
			tb_bbs_no.nextval,
			#{sj},#{cn},
			0,#{ctgry},
			sysdate,'comk',
			#{videosrc},0)
	</insert>
	<!-- 수정하기 -->
	<update id="upBbs" parameterType="greencamp.bbs.model.BbsDTO">
		update tb_bbs set sj=#{sj},cn=#{cn},videosrc=#{videosrc} where bbs_no=#{bbs_no}
	</update>
	<!-- 중고거래삭제 -->
	<delete id="delBbs" parameterType="greencamp.bbs.model.BbsDTO">
		delete from tb_bbs where bbs_no=#{bbs_no}
	</delete>
</mapper>